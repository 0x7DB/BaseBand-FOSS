package dev.jess.baseband.client.impl.Modules.Exploits;

import dev.jess.baseband.client.api.Module.Category;
import dev.jess.baseband.client.api.Module.Module;
import dev.jess.baseband.client.mixin.Mixin.ICPacketUpdateSign;
import net.minecraft.network.Packet;
import net.minecraft.network.play.client.CPacketUpdateSign;

import java.awt.*;

public class ColourSign extends Module {
	public ColourSign() {
		super("ColourSign", "$", Category.EXPLOITS, new Color(222, 111, 111, 255).getRGB());
	}


	public boolean onPacketSend(Packet<?> packet) {
		if (mc.getCurrentServerData() != null && packet.getClass() == CPacketUpdateSign.class) {
			int i = 0;
			while (i < 4) {
				if (((ICPacketUpdateSign) packet).getLines()[i] != null) {
					((ICPacketUpdateSign) packet).getLines()[i] = ((ICPacketUpdateSign) packet).getLines()[i].replace("&", "\u00a7\u00a7\u00a700");
				}
				i++;
			}
		}
		return false;
	}
}
